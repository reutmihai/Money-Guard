import{u as w,a as N,b as f,r as v,c as y,j as s,s as o,F as b,d as k,e as c,E as d,h as C}from"./index-B2WU3iH0.js";import{c as L,a as m,s as e}from"./auth.module-CaMwv--a.js";const $=()=>{const{notify:n}=w(),u=N(),t=f(),[i,h]=v.useState(!1),l=y(a=>a.auth.isLoading),x={email:"",password:""},p=L({email:m().email("Invalid email address").required("Email is required"),password:m().required("Password is required")}),g=async(a,{setSubmitting:r})=>{try{await u(C(a)).unwrap(),n("Login successful!"),t("/dashboard",{replace:!0})}catch{n("Incorrect email or password","error")}finally{r(!1)}},j=a=>a==="correctpassword"?"green":a.length<6?"red":"green";return s.jsx("div",{className:e.loginContainer,children:s.jsxs("div",{className:e.authCard,children:[s.jsxs("div",{className:e.logo,children:[s.jsx("svg",{className:e["icon-logo"],width:"50",height:"50",children:s.jsx("use",{xlinkHref:`${o}#icon-logo`})}),s.jsx("h2",{className:e.loginTitle,children:"Money Guard"})]}),s.jsx(b,{initialValues:x,validationSchema:p,onSubmit:g,children:({isSubmitting:a,values:r})=>s.jsxs(k,{children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"email",children:s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${o}#icon-email`})})}),s.jsxs("div",{className:"column",children:[s.jsx(c,{type:"email",name:"email",id:"email",placeholder:"E-mail",className:e.loginInput}),s.jsx(d,{name:"email",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${o}#icon-lock`})}),s.jsxs("div",{className:"column",children:[s.jsx(c,{type:i?"text":"password",name:"password",id:"password",placeholder:"Password",className:e.loginInputPassword}),s.jsx("button",{type:"button",onClick:()=>h(!i),className:e.showPasswordButton,children:s.jsx("i",{className:i?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx("div",{children:s.jsx("div",{className:e.progressBar,style:{width:`${r.password.length/12*100}%`,backgroundColor:j(r.password),height:"5px",transition:"width 0.5s ease-in-out, background-color 0.5s ease-in-out"}})}),s.jsx(d,{name:"password",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.loginButtonsWrapper,children:[s.jsx("button",{type:"submit",disabled:a||l,className:e.loginButton,children:a||l?"Loading...":"Log In"}),s.jsx("button",{type:"button",className:e.registerButton,onClick:()=>t("/Money-Guard/register"),children:"Register"})]})]})})]})})};export{$ as default};
