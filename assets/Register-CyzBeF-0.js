import{u as j,a as g,b as t,j as e,c as N}from"./index-B3QVbpa6.js";import{c as f,a,e as w,F as b,b as v,d as r,E as i}from"./index.esm-CLpimr85.js";const F=()=>{const m=j(),o=g(),l=t(s=>s.auth.isLoading),c=t(s=>s.auth.error),d={username:"",email:"",password:"",confirmPassword:""},u=f({username:a().required("Username-ul este obligatoriu"),email:a().email("Adresa de email este invalidă").required("Email-ul este obligatoriu"),password:a().min(6,"Parola trebuie să conțină minim 6 caractere").required("Parola este obligatorie"),confirmPassword:a().oneOf([w("password"),null],"Parolele nu se potrivesc").required("Confirmarea parolei este obligatorie")}),p=async(s,{setSubmitting:h,setErrors:x})=>{try{const n=await m(N({username:s.username,email:s.email,password:s.password})).unwrap();console.log("Registration successful:",n),o("/Money-Guard/login",{replace:!0})}catch(n){console.error("Registration failed:",n),x({email:"Înregistrarea a eșuat. Încearcă din nou."})}finally{h(!1)}};return e.jsx("div",{className:"register-container",children:e.jsxs("div",{className:"register-card",children:[e.jsx("h2",{children:"Register"}),e.jsx(b,{initialValues:d,validationSchema:u,onSubmit:p,children:({isSubmitting:s})=>e.jsxs(v,{children:[e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"username",children:e.jsx("i",{className:"fa fa-user"})}),e.jsxs("div",{className:"column",children:[e.jsx(r,{type:"text",name:"username",id:"username",placeholder:"Name",className:"register-input"}),e.jsx(i,{name:"username",component:"div",className:"error"})]})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"email",children:e.jsx("i",{className:"fa fa-envelope"})}),e.jsxs("div",{className:"column",children:[e.jsx(r,{type:"email",name:"email",id:"email",placeholder:"E-mail",className:"register-input"}),e.jsx(i,{name:"email",component:"div",className:"error"})]})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"password",children:e.jsx("i",{className:"fa fa-lock"})}),e.jsxs("div",{className:"column",children:[e.jsx(r,{type:"password",name:"password",id:"password",placeholder:"Password",className:"register-input"}),e.jsx(i,{name:"password",component:"div",className:"error"})]})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"confirmPassword",children:e.jsx("i",{className:"fa fa-lock"})}),e.jsxs("div",{className:"column",children:[e.jsx(r,{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",className:"register-input"}),e.jsx(i,{name:"confirmPassword",component:"div",className:"error"})]})]}),c&&e.jsx("div",{className:"error",children:c})," ",e.jsx("button",{type:"submit",disabled:s||l,className:"register-button",children:s||l?"Se încarcă...":"Register"}),e.jsx("button",{type:"button",className:"login-button",onClick:()=>o("/Money-Guard/login"),children:"Log In"})]})})]})})};export{F as default};
