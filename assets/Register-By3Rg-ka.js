import{u as N,a as v,b as y,r as u,c as b,j as s,d as P}from"./index-BlaAEisp.js";import{c as C,a as i,f as k,s as e,b as q,F,d as S,e as o,E as n}from"./auth.module-CUs_O-0W.js";const R=()=>{const{notify:c}=N(),h=v(),d=y(),[t,x]=u.useState(!1),[l,p]=u.useState(!1),m=b(a=>a.auth.isLoading),j={username:"",email:"",password:"",confirmPassword:""},f=C({username:i().required("Username is required"),email:i().email("Invalid email address").required("Email is required"),password:i().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:i().oneOf([k("password"),null],"Passwords do not match").required("Password confirmation is required")}),w=async(a,{setSubmitting:r})=>{try{await h(P({username:a.username,email:a.email,password:a.password})).unwrap(),c("Registration successful!"),d("/login",{replace:!0})}catch{c("Registration failed. Please try again.","error")}finally{r(!1)}},g=a=>a.length<6?"red":a.length<10?"orange":"green";return s.jsx("div",{className:e.registerContainer,children:s.jsxs("div",{className:e.authCard,children:[s.jsxs("div",{children:[s.jsx("svg",{className:e["icon-logo"],children:s.jsx("use",{xlinkHref:`${q}#icon-logo`})}),s.jsx("h2",{children:"Money Guard"})]}),s.jsx(F,{initialValues:j,validationSchema:f,onSubmit:w,children:({isSubmitting:a,values:r})=>s.jsxs(S,{children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"username",children:s.jsx("i",{className:"fa fa-user"})}),s.jsxs("div",{className:"column",children:[s.jsx(o,{type:"text",name:"username",id:"username",placeholder:"Name",className:e.registerInput}),s.jsx(n,{name:"username",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"email",children:s.jsx("i",{className:"fa fa-envelope"})}),s.jsxs("div",{className:"column",children:[s.jsx(o,{type:"email",name:"email",id:"email",placeholder:"E-mail",className:e.registerInput}),s.jsx(n,{name:"email",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"password",children:s.jsx("i",{className:"fa fa-lock"})}),s.jsxs("div",{className:"column",children:[s.jsx(o,{type:t?"text":"password",name:"password",id:"password",placeholder:"Password",className:e.registerInput}),s.jsx("button",{type:"button",onClick:()=>x(!t),className:e.showPasswordButton,children:s.jsx("i",{className:t?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx("div",{children:s.jsx("div",{className:e.progressBar,style:{width:`${r.password.length/12*100}%`,backgroundColor:g(r.password),height:"5px",transition:"width 0.5s ease-in-out, background-color 0.5s ease-in-out"}})}),s.jsx(n,{name:"password",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"confirmPassword",children:s.jsx("i",{className:"fa fa-lock"})}),s.jsxs("div",{className:"column",children:[s.jsx(o,{type:l?"text":"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",className:e.registerInput}),s.jsx("button",{type:"button",onClick:()=>p(!l),className:e.showPasswordButton,children:s.jsx("i",{className:l?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx(n,{name:"confirmPassword",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.loginButtonsWrapper,children:[s.jsx("button",{type:"submit",disabled:a||m,className:e.loginButton,children:a||m?"Loading...":"Register"}),s.jsx("button",{type:"button",className:e.registerButton,onClick:()=>d("/login"),children:"Log In"})]})]})})]})})};export{R as default};
