import{u as j,a as w,b as N,r as f,c as v,j as s,h as b}from"./index-CbUrlerO.js";import{c as y,a as l,s as e,F as C,b as L,d as c,E as d}from"./auth.module-ClraqC2C.js";const F=()=>{const{notify:o}=j(),m=w(),n=N(),[i,u]=f.useState(!1),t=v(a=>a.auth.isLoading),h={email:"",password:""},p=y({email:l().email("Invalid email address").required("Email is required"),password:l().required("Password is required")}),x=async(a,{setSubmitting:r})=>{try{await m(b(a)).unwrap(),o("Login successful!"),n("/dashboard",{replace:!0})}catch{o("Incorrect email or password","error")}finally{r(!1)}},g=a=>a==="correctpassword"?"green":a.length<6?"red":"green";return s.jsx("div",{className:e.loginContainer,children:s.jsxs("div",{className:e.authCard,children:[s.jsx("div",{children:s.jsx("h2",{className:e.loginTitle,children:"Money Guard"})}),s.jsx(C,{initialValues:h,validationSchema:p,onSubmit:x,children:({isSubmitting:a,values:r})=>s.jsxs(L,{children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"email",children:s.jsx("i",{className:"fa fa-envelope"})}),s.jsxs("div",{className:"column",children:[s.jsx(c,{type:"email",name:"email",id:"email",placeholder:"E-mail",className:e.loginInput}),s.jsx(d,{name:"email",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("label",{htmlFor:"password",children:s.jsx("i",{className:"fa fa-lock"})}),s.jsxs("div",{className:"column",children:[s.jsx(c,{type:i?"text":"password",name:"password",id:"password",placeholder:"Password",className:e.loginInputPassword}),s.jsx("button",{type:"button",onClick:()=>u(!i),className:e.showPasswordButton,children:s.jsx("i",{className:i?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx("div",{children:s.jsx("div",{className:e.progressBar,style:{width:`${r.password.length/12*100}%`,backgroundColor:g(r.password),height:"5px",transition:"width 0.5s ease-in-out, background-color 0.5s ease-in-out"}})}),s.jsx(d,{name:"password",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.loginButtonsWrapper,children:[s.jsx("button",{type:"submit",disabled:a||t,className:e.loginButton,children:a||t?"Loading...":"Log In"}),s.jsx("button",{type:"button",className:e.registerButton,onClick:()=>n("/Money-Guard/register"),children:"Register"})]})]})})]})})};export{F as default};
