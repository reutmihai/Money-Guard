import{u as v,a as y,b as P,r as x,c as b,j as s,s as r,F as C,d as k,e as n,E as o,f as $}from"./index-CrAS-O_X.js";import{c as q,a as t,b as S,s as e}from"./auth.module-bEBnMm8x.js";const R=()=>{const{notify:d}=v(),h=y(),m=P(),[l,p]=x.useState(!1),[c,j]=x.useState(!1),u=b(a=>a.auth.isLoading),g={username:"",email:"",password:"",confirmPassword:""},w=q({username:t().required("Username is required"),email:t().email("Invalid email address").required("Email is required"),password:t().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:t().oneOf([S("password"),null],"Passwords do not match").required("Password confirmation is required")}),f=async(a,{setSubmitting:i})=>{try{await h($({username:a.username,email:a.email,password:a.password})).unwrap(),d("Registration successful!"),m("/login",{replace:!0})}catch{d("Registration failed. Please try again.","error")}finally{i(!1)}},N=a=>a.length<6?"red":a.length<10?"orange":"green";return s.jsx("div",{className:e.registerContainer,children:s.jsxs("div",{className:e.authCard,children:[s.jsxs("div",{children:[s.jsx("svg",{className:e["icon-logo"],children:s.jsx("use",{xlinkHref:`${r}#icon-logo`})}),s.jsx("h2",{className:e.loginTitle,children:"Money Guard"})]}),s.jsx(C,{initialValues:g,validationSchema:w,onSubmit:f,children:({isSubmitting:a,values:i})=>s.jsxs(k,{children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${r}#icon-user`})}),s.jsxs("div",{className:"column",children:[s.jsx(n,{type:"text",name:"username",id:"username",placeholder:"Name",className:e.registerInput}),s.jsx(o,{name:"username",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${r}#icon-email`})}),s.jsxs("div",{className:"column",children:[s.jsx(n,{type:"email",name:"email",id:"email",placeholder:"E-mail",className:e.registerInput}),s.jsx(o,{name:"email",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${r}#icon-lock`})}),s.jsxs("div",{className:"column",children:[s.jsx(n,{type:l?"text":"password",name:"password",id:"password",placeholder:"Password",className:e.registerInput}),s.jsx("button",{type:"button",onClick:()=>p(!l),className:e.showPasswordButton,children:s.jsx("i",{className:l?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx("div",{children:s.jsx("div",{className:e.progressBar,style:{width:`${i.password.length/12*100}%`,backgroundColor:N(i.password),height:"5px",transition:"width 0.5s ease-in-out, background-color 0.5s ease-in-out"}})}),s.jsx(o,{name:"password",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("svg",{className:e.icon,children:s.jsx("use",{xlinkHref:`${r}#icon-lock`})}),s.jsxs("div",{className:"column",children:[s.jsx(n,{type:c?"text":"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",className:e.registerInput}),s.jsx("button",{type:"button",onClick:()=>j(!c),className:e.showPasswordButton,children:s.jsx("i",{className:c?"fa fa-eye-slash":"fa fa-eye"})}),s.jsx(o,{name:"confirmPassword",component:"div",className:e.errorText})]})]}),s.jsxs("div",{className:e.loginButtonsWrapper,children:[s.jsx("button",{type:"submit",disabled:a||u,className:e.loginButton,children:a||u?"Loading...":"Register"}),s.jsx("button",{type:"button",className:e.registerButton,onClick:()=>m("/login"),children:"Log In"})]})]})})]})})};export{R as default};
